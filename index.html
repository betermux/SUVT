<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Khalk Shop</title>
</head>
<body>
  <h1>Khalk Shop</h1>
  <ul id="productGrid"></ul>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAEybA-Ou_PGkZINDT-opzVPUlrr6XOU8E",
  authDomain: "khalkh-store.firebaseapp.com",
  databaseURL: "https://khalkh-store-default-rtdb.firebaseio.com",
  projectId: "khalkh-store",
  storageBucket: "khalkh-store.appspot.com",
  messagingSenderId: "205879441792",
  appId: "1:205879441792:web:fb71f2c84f8c16b36a2965",
  measurementId: "G-DHB8PQZ514"
};

const app = initializeApp(firebaseConfig);
const database = getDatabase(app);

// Бараа унших
const productRef = ref(database, "products");
onValue(productRef, snapshot => {
  const list = document.getElementById("productGrid");
  list.innerHTML = "";
  snapshot.forEach(child => {
    const data = child.val();
    const li = document.createElement("li");
    li.innerHTML = `<img src="${data.image}" width="100"><br>
                    <b>${data.name}</b><br>
                    ${data.desc}<br>
                    ${data.price}₮`;
    list.appendChild(li);
  });
});
</script>
</body>
</html>